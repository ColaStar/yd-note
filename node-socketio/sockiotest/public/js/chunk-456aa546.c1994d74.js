(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-456aa546"],{2058:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addPopular"},[r("h3",[e._v("添加事件")]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[this.$route.params.date?e._e():r("el-form-item",{attrs:{label:"事件时间",required:""}},[r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"date"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.date,callback:function(t){e.$set(e.ruleForm,"date",t)},expression:"ruleForm.date"}})],1)],1)],1),this.$route.params.date?e._e():r("el-form-item",{attrs:{label:"市场情绪",prop:"ins_type"}},[r("el-radio-group",{model:{value:e.ruleForm.active,callback:function(t){e.$set(e.ruleForm,"active",t)},expression:"ruleForm.active"}},[r("el-radio",{attrs:{label:"看空"}}),r("el-radio",{attrs:{label:"震荡"}}),r("el-radio",{attrs:{label:"看多"}})],1)],1),r("el-form-item",{attrs:{label:"事件内容",prop:"content"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)],1)},o=[],s={data:function(){return{typeList:["看空","震荡","看多"],ruleForm:{content:"",date:"",active:""},rules:{content:[{required:!0,message:"请输入活动名称",trigger:"blur"}],date:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}]}}},methods:{format:function(e){var t=new Date(e),r=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var o=t.getDate();return o=o<10?"0"+o:o,r+"-"+a+"-"+o},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;if(t.$route.params.date){var r={id:t.$route.params.id,content:t.ruleForm.content};t.$x.post(t.url.eventupdate,r).then(function(e){e.status&&(t.$message({message:"修改成功",type:"success"}),t.$router.push("/eventManageList"))})}else{var a={date:t.format(t.ruleForm.date),content:t.ruleForm.content,active:t.typeList.indexOf(t.ruleForm.active)};t.$x.post(t.url.eventadd,a).then(function(e){if(t.$route.params.date)var r="修改成功";else r="添加成功";e.status&&(t.$message({message:r,type:"success"}),t.$router.push("/eventManageList"))})}console.log(params)})}},mounted:function(){console.log(this.$route.params),this.ruleForm.date=new Date(this.$route.params.date),this.ruleForm.content=this.$route.params.new_content}},n=s,l=(r("48b0"),r("2877")),u=Object(l["a"])(n,a,o,!1,null,"07655d6d",null);t["default"]=u.exports},"48b0":function(e,t,r){"use strict";var a=r("4935"),o=r.n(a);o.a},4935:function(e,t,r){}}]);
//# sourceMappingURL=chunk-456aa546.c1994d74.js.map